<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>Mini Game â€” Mobile Friendly</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
/* ---------- PAGE BACKGROUNDS ---------- */
#page1 {
  background: url('back3.PNG') no-repeat center center/cover;
}
#page3 {
  background: url('back2.PNG') no-repeat center center/cover;
}
#winner {
  background: url('back1.PNG') no-repeat center center/cover;
}

.app-page {
  display:none;
  height:100vh;
  width:100vw;
  align-items:center;
  justify-content:center;
  flex-direction:column;
  text-align:center;
  background-size: cover !important;
  background-position: center !important;
}

.app-page.active{
  display:flex;
}

/* REMOVE ANY COLOR BACKGROUNDS */
html,body{
  height:100%;
  margin:0;
  padding:0;
  background: transparent !important;
  color:#fff;
  font-family: system-ui;
}

@font-face {
  font-family: 'Verlag Bold';
  src: url('Verlag-Bold.ttf') format('truetype');
  font-weight: bold;
}

body, button, h1, h4, p, div, span {
  font-family: 'calibri' !important;
  text-transform: uppercase;
}

/* PAGE 1 */
#page1 p{
  font-size:100px;
  padding:20px;
}

/* PAGE 3 */
#page3 {
  flex-direction:column;
  justify-content:center;
  align-items:center;
  padding-top: 0px;
  text-align:center;
}

#questionText {
  color:#103167;
  font-size:70px;
  line-height:1.3;
  margin-bottom:25px;
  margin-top: 0 !important;
}

#answersGrid{
  display:grid;
  grid-template-columns: repeat(2, 1fr);
  gap:20px;
  width:90%;
  max-width:900px;
  margin:auto;
  margin-bottom:25px;
  margin-top:0 !important;
}

.answer-btn {
  border: none;
  border-radius: 30px;
  width: 100%;
  height: 260px;
  font-size: 48px;
  background: white;
  color: #103167;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: 0.2s ease;
  text-align:center;
  line-height: 1.0;
  padding: 0 20px;
}

.answer-btn.selected{
  box-shadow:0 0 14px #d1c9f5;
  transform:scale(1.05);
}

#nextBtn{
  width:40%;
  height:110px;
  font-size:58px;
  border-radius:12px;
  background:#103167;
  color:white;
  border:none;
  position:fixed;
  bottom:400px;
  left:50%;
  transform:translateX(-50%);
  display:block !important;
  z-index:999;
}

/* WINNER PAGE */
#winner img{
  width:500px;
  height:500px;
  border-radius:22px;
  margin-top:20px;
  animation:zoomPulse 2s infinite ease-in-out;
}

@keyframes zoomPulse{
  0%{ transform:scale(1.2); }
  50%{ transform:scale(1); }
  100%{ transform:scale(1.2); }
}

#winner h1{
  color:#103167;
  font-size:70px;
  margin-top:100px;
}
#winner p{
  color:#103167;
  font-size:50px;
  margin-top:10px;
}
</style>
</head>

<body>

<!-- PAGE 1 -->
<div id="page1" class="app-page active">
  <p>PICK YOUR SUN TOY & MEET YOUR FUTURE BESTIE!</p>
  <button id="tapArea" style="position:absolute; inset:0; background:transparent; border:none;"></button>
</div>

<!-- PAGE 3 -->
<div id="page3" class="app-page">
  <h4 id="questionText"></h4>
  <div id="answersGrid"></div>
  <button id="nextBtn">Next</button>
</div>

<!-- WINNER PAGE -->
<div id="winner" class="app-page">
  <h1></h1>
  <img id="winnerImage" src="" alt="Winner">
  <p id="winnerSub"></p>
</div>

<script>
// ELEMENT REFERENCES
const page1 = document.getElementById("page1");
const page3 = document.getElementById("page3");
const winner = document.getElementById("winner");
const winnerImage = document.getElementById("winnerImage");
const questionText = document.getElementById("questionText");
const answersGrid = document.getElementById("answersGrid");
const nextBtn = document.getElementById("nextBtn");
const winnerSub = document.getElementById("winnerSub");

// QUESTIONS
const questions = [
  { id:1, text:"When your friends want to make plans, whatâ€™s your role?", answers:[
      {id:'a', label:'Iâ€™m the plannerâ€”time, place, reminders? All me! ðŸ“‹ '},
      {id:'b', label:'Chaos, Fun & Life of the party! ðŸ¤ª'},
      {id:'c', label:'I show up looking fabulous & fashionably late ðŸ’… '},
      {id:'d', label:'Here for the vibe!ðŸ˜Ž '}
    ]},
  { id:2, text:"Whatâ€™s your go to TV series", answers:[
      {id:'a', label:'Friends â˜•'},
      {id:'b', label:'Stranger Things ðŸ§‡'},
      {id:'c', label:'Emily in Paris ðŸ—¼'},
      {id:'d', label:'Suits ðŸ‘”'}
    ]},
  { id:3, text:"The Ultimate go-to junk food", answers:[
      {id:'a', label:'Pizza ðŸ•'},
      {id:'b', label:'Burger & Fries ðŸ”'},
      {id:'c', label:'Donuts ðŸ¥¯'},
      {id:'d', label:'Ice Cream ðŸ¦'}
    ]},
  { id:4, text:"Whatâ€™s your weekend vibe?", answers:[
      {id:'gold',   label:'Errands ðŸ›’'},
      {id:'silver', label:'Movies & ChillðŸŽ¥'},
      {id:'bronze', label:'Shopping & BrunchðŸ›ï¸'},
      {id:'mystery',label:'Adventures & Outdoors ðŸ§—â€â™€ï¸'}
    ]}
];

// RESULT IMAGES
const winnerImages = {
  gold:'1.png',
  silver:'2.png',
  bronze:'3.png',
  mystery:'4.png'
};

// PAGE HANDLER
function show(p){
  [page1,page3,winner].forEach(x=>x.classList.remove('active'));
  p.classList.add('active');
}

// START GAME
tapArea.onclick = ()=>{
  currentIndex = 0;
  answersSelected = {};
  renderQuestion(currentIndex);
  show(page3);
};

// GAME LOGIC
let currentIndex = 0;
let answersSelected = {};

function renderQuestion(i){
  const q = questions[i];
  questionText.textContent = q.text;
  answersGrid.innerHTML = "";

  q.answers.forEach(ans=>{
    const btn = document.createElement("button");
    btn.className = "answer-btn";
    btn.textContent = ans.label;

    btn.onclick = ()=>{
      [...answersGrid.children].forEach(x=>x.classList.remove("selected"));
      btn.classList.add("selected");
      answersSelected[q.id] = ans.id;
      nextBtn.textContent = (i === questions.length - 1 ? "Finish" : "Next");
    };

    answersGrid.appendChild(btn);
  });

  nextBtn.onclick = ()=>{
    if(!answersSelected[q.id]){
      alert("Please select an answer!");
      return;
    }
    if(i < questions.length - 1){
      currentIndex++;
      renderQuestion(currentIndex);
    } else {
      finishGame();
    }
  };
}

// FINAL PAGE
function finishGame(){
  const answerToWinner = {
    a: 'gold',
    b: 'silver',
    c: 'bronze',
    d: 'mystery'
  };

  const choiceKey = answersSelected[1] ? answerToWinner[answersSelected[1]] : "mystery";

  winnerImage.src = winnerImages[choiceKey];

  const giftMap = {
    gold:{title:"Madam Responsible", desc:"Bossy planner who keeps everyone in line"},
    silver:{title:"Chaos Queen", desc:"Drama magnet with dog-mom energy"},
    bronze:{title:"Buttercup Babe", desc:"Stylish main character who lives for gossip"},
    mystery:{title:"Miss Vibes", desc:"â€œNo stress, just vibesâ€ friend always down for whatever"}
  };

  const result = giftMap[choiceKey] || giftMap.mystery;
  document.querySelector("#winner h1").textContent = result.title;
  winnerSub.textContent = result.desc;

  show(winner);

  setTimeout(()=>show(page1), 7000);
}
</script>

</body>
</html>
